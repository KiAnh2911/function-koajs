{"version":3,"file":"todoHandlers.js","names":["_todoRespository","require","getTodos","ctx","limit","sort","query","data","getListTodo","status","body","todo","error","console","log","success","message","add","postData","request","req","addTodo","updataMany","todos","update","updateTodos","removeMany","id","remove","removeManyTodo"],"sources":["../../../src/handlers/controller/todoHandlers.js"],"sourcesContent":["import {\n  getListTodo,\n  addTodo,\n  removeManyTodo,\n  updateTodos,\n} from \"../../database/todoRespository\";\n\nexport async function getTodos(ctx) {\n  try {\n    const { limit, sort } = ctx.query;\n\n    const data = await getListTodo(sort, limit);\n    ctx.status = 200;\n    ctx.body = {\n      todo: data,\n    };\n  } catch (error) {\n    console.log(\"error getTodos:\", error);\n    ctx.status = 500;\n    ctx.body = {\n      success: false,\n      error: error.message,\n    };\n  }\n}\n\nexport async function add(ctx) {\n  try {\n    const postData = ctx.request.body || ctx.req.body;\n    const data = await addTodo(postData);\n\n    ctx.status = 201;\n    return (ctx.body = {\n      success: true,\n      todo: data,\n    });\n  } catch (error) {\n    console.log(\"error add:\", error);\n    ctx.status = 500;\n    ctx.body = {\n      success: false,\n      data: [],\n      error: error.message,\n    };\n  }\n}\n\nexport async function updataMany(ctx) {\n  try {\n    const todos = ctx.request.body || ctx.req.body;\n    const update = await updateTodos(todos);\n    ctx.status = 200;\n    ctx.body = {\n      success: true,\n      todo: update,\n    };\n  } catch (error) {\n    console.log(\"error update: \", error);\n    ctx.status = 500;\n    ctx.body = {\n      success: false,\n      todo: [],\n      error: error.message,\n    };\n  }\n}\n\nexport async function removeMany(ctx) {\n  try {\n    const id = ctx.request.body || ctx.req.body;\n    const remove = await removeManyTodo(id);\n    ctx.status = 200;\n    ctx.body = {\n      success: true,\n      todo: remove,\n    };\n  } catch (error) {\n    console.log(\"error remove\", error);\n    ctx.status = 500;\n    ctx.body = {\n      success: false,\n      todo: [],\n      error: error.message,\n    };\n  }\n}\n"],"mappings":"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"}