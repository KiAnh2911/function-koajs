{"version":3,"file":"todoRespository.js","names":["_config","_interopRequireDefault","require","_prapareDocs","obj","__esModule","default","todoRef","db","collection","getListTodo","sort","limit","todos","orderBy","Number","get","prapareDocs","docs","addTodo","data","todo","createAt","Date","completed","respon","add","id","updateTodos","ids","update","map","doc","updatedAt","Promise","all","removeManyTodo","todoRemove","String","delete"],"sources":["../../src/database/todoRespository.js"],"sourcesContent":["import db from \"../firestore/config\";\nimport prapareDocs from \"../helpers/prapareDocs\";\nconst todoRef = db.collection(\"todos\");\n\nexport async function getListTodo(sort = \"ASC\", limit = 0) {\n  const todos = await todoRef\n    .orderBy(\"createAt\", sort)\n    .limit(Number(limit))\n    .get();\n\n  return prapareDocs(todos.docs);\n}\n\nexport async function addTodo(data) {\n  const todo = {\n    createAt: new Date(),\n    ...data,\n    completed: false,\n  };\n\n  const respon = await todoRef.add(todo);\n\n  return { id: respon.id, ...todo };\n}\n\nexport async function updateTodos(ids = []) {\n  const update = ids.map(async (id) => {\n    return todoRef.doc(`${id}`).update({\n      completed: true,\n      updatedAt: new Date(),\n    });\n  });\n  return await Promise.all(update);\n}\n\nexport async function removeManyTodo(ids = []) {\n  const todoRemove = ids.map((id) => todoRef.doc(String(id)).delete());\n\n  return await Promise.all(todoRemove);\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAiD,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACjD,MAAMG,OAAO,GAAGC,eAAE,CAACC,UAAU,CAAC,OAAO,CAAC;AAE/B,eAAeC,WAAWA,CAACC,IAAI,GAAG,KAAK,EAAEC,KAAK,GAAG,CAAC,EAAE;EACzD,MAAMC,KAAK,GAAG,MAAMN,OAAO,CACxBO,OAAO,CAAC,UAAU,EAAEH,IAAI,CAAC,CACzBC,KAAK,CAACG,MAAM,CAACH,KAAK,CAAC,CAAC,CACpBI,GAAG,CAAC,CAAC;EAER,OAAO,IAAAC,oBAAW,EAACJ,KAAK,CAACK,IAAI,CAAC;AAChC;AAEO,eAAeC,OAAOA,CAACC,IAAI,EAAE;EAClC,MAAMC,IAAI,GAAG;IACXC,QAAQ,EAAE,IAAIC,IAAI,CAAC,CAAC;IACpB,GAAGH,IAAI;IACPI,SAAS,EAAE;EACb,CAAC;EAED,MAAMC,MAAM,GAAG,MAAMlB,OAAO,CAACmB,GAAG,CAACL,IAAI,CAAC;EAEtC,OAAO;IAAEM,EAAE,EAAEF,MAAM,CAACE,EAAE;IAAE,GAAGN;EAAK,CAAC;AACnC;AAEO,eAAeO,WAAWA,CAACC,GAAG,GAAG,EAAE,EAAE;EAC1C,MAAMC,MAAM,GAAGD,GAAG,CAACE,GAAG,CAAC,MAAOJ,EAAE,IAAK;IACnC,OAAOpB,OAAO,CAACyB,GAAG,CAAE,GAAEL,EAAG,EAAC,CAAC,CAACG,MAAM,CAAC;MACjCN,SAAS,EAAE,IAAI;MACfS,SAAS,EAAE,IAAIV,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAO,MAAMW,OAAO,CAACC,GAAG,CAACL,MAAM,CAAC;AAClC;AAEO,eAAeM,cAAcA,CAACP,GAAG,GAAG,EAAE,EAAE;EAC7C,MAAMQ,UAAU,GAAGR,GAAG,CAACE,GAAG,CAAEJ,EAAE,IAAKpB,OAAO,CAACyB,GAAG,CAACM,MAAM,CAACX,EAAE,CAAC,CAAC,CAACY,MAAM,CAAC,CAAC,CAAC;EAEpE,OAAO,MAAML,OAAO,CAACC,GAAG,CAACE,UAAU,CAAC;AACtC"}